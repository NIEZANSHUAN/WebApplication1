@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

@using WebApplication1.Models.Entity;
@model IEnumerable<Student>;
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
    <title>无标题文档</title>


</head>

<body>
    <table width="100%" border="0" align="center" cellpadding="0" cellspacing="0">
        <tr>
            <td height="30">
                <table width="100%" border="0" cellspacing="0" cellpadding="0">
                    <tr>
                        <td height="24" >
                            <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                <tr>
                                    <td>
                                        <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                            <tr>
                                                <td width="94%" valign="bottom"><span class="STYLE1">员工基本信息列表</span></td>
                                            </tr>
                                        </table>
                                    </td>
                                    <td><div align="right"></div></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td>
                <table width="100%" border="0" cellpadding="0" cellspacing="1" bgcolor="#a8c7ce" >
                    <tr>

                        <td width="12%" height="20" bgcolor="d3eaef" class="STYLE6"><div align="center"><span class="STYLE10">工号</span></div></td>
                        <td width="26%" height="20" bgcolor="d3eaef" class="STYLE6"><div align="center"><span class="STYLE10">员工姓名</span></div></td>
                        <td width="10%" height="20" bgcolor="d3eaef" class="STYLE6"><div align="center"><span class="STYLE10">性别</span></div></td>
                        <td width="21%" height="20" bgcolor="d3eaef" class="STYLE6"><div align="center"><span class="STYLE10">部门</span></div></td>
                        <td width="14%" height="20" bgcolor="d3eaef" class="STYLE6"><div align="center"><span class="STYLE10">基本操作</span></div></td>
                    </tr>
                    @foreach (var item in Model)
                    {
                        <tr>

                            <td height="20" bgcolor="#FFFFFF" class="STYLE19"><div align="center"><span class="STYLE19">@item.StuId</span></div></td>
                            <td height="20" bgcolor="#FFFFFF" class="STYLE19"><div align="center">@item.Sname</div></td>
                            <td height="20" bgcolor="#FFFFFF" class="STYLE19"><div align="center">@item.Sex</div></td>
                            <td height="20" bgcolor="#FFFFFF" class="STYLE19"><div align="center">@item.Teacher</div></td>
                            <td height="20" bgcolor="#FFFFFF"><div align="center" class="STYLE21">

                                    <a href="#" onclick="deleteItem('@item.StuId'); return false;">删除</a>
                        </tr>

                    }
                </table>
                <div align="center">
                    <input onclick="window.location.href='/HHome/yg_add'" type="button" value="添加员工" />

                </div>


        <script src="~/layuimini-v2/lib/jquery-3.4.1/jquery-3.4.1.min.js"></script>

        <script>
            function deleteItem(id) {
                if (confirm('是否要删除？')) {
                    $.ajax({
                        url: '/hhome/Deleteyg/' + id,
                        type: 'GET',
                        dataType: 'json', // 设置dataType为json，告诉jQuery预期从服务器接收JSON数据
                        success: function (data) {
                            if (data.isSuccess) {
                                // 操作成功，显示成功消息
                                alert(data.msg);
                                location.reload();
                            } else {
                                // 操作失败，显示失败消息
                                alert(data.msg);
                            }
                        },
                        error: function () {
                            // 处理请求错误的情况
                            alert('请求失败');
                        }
                    });
                }
            }

        </script>

</body>
</html>